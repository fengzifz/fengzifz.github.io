<!DOCTYPE>
<html>
<head>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-COMPATIBLE" content="chrome=1" />
	<meta name="description" content="Web前端，JavaScript，PHP，node，express，mongo，angular，vagrant，virtual box">
	<link rel="stylesheet" type="text/css" media="screen" href="../../stylesheets/stylesheet.css">
	<title>Damon's Blog</title>
</head>

<body>
<!-- Header Start -->
<div id="header_wrap" class="outer">
	<header class="inner">
		<a id="forkme_banner" href="https://github.com/fengzifz">View on GitHub</a>
		<h1 id="project_title">Damon's Blog</h1>
		<h2 id="project_tagline"></h2>
	</header>
</div>
<!-- Header End -->

<div id="main_content_wrap" class="outer">
	<section id="main_content" class="inner">
		<h2>使用 Vagrant Box 来部署开发环境</h2>
		<h3>前言</h3>
		<p>很早之前就听同事说过 Vagrant 这货，当时只是知道一下，没有在意。但最近做项目时，遇到开发环境和生产环境的 php 版本不一致导致有些函数的使用和语法的问题。</p>
		<p>纵使不是很大的问题，但是这些在开发环境中本可以避免的。因为服务器的 php 版本不一定全部一致。使用 Vagrant，我们可以根据不同的项目来配置对应的开发环境。</p>
		<p>这样可以使开发环境和生产环境保持一致。</p>
		<p>当然，如果你同时只是开发一个项目，而且生产环境和开发环境一致，又或者你同时开发多个项目，但开发环境和生产环境、php 版本全部一致，那不使用 Vagrant 也是可以的。</p>

		<hr />

		<h3>1. 下载 VirtualBox</h3>
		<a href="https://www.virtualbox.org/wiki/Downloads" target="_blank">Download VirtualBox</a>

		<h3>2. 下载 Vagrant Box</h3>
		<a href="http://www.vagrantbox.es/" target="_blank">Vagrant boxes list</a>

		<hr />

		<h3>3. 安装 Vagrant</h3>
		<a href="https://docs.vagrantup.com/v2/installation/index.html" target="_blank">How to install Vagrant</a>

		<hr />

		<h3>4. 初始化项目</h3>
		<p>创建项目目录</p>
		<pre><code>mkdir vagrant_test_dir</code></pre>

		<h3>5. 初始化项目</h3>
<pre><code>cd vagrant_test_dir
vagrant init</code></pre>

		<hr />

		<h3>6. 添加 box</h3>
		<p>下载完成后，通过 <code>vagrant box add &lt;name&gt; &lt;box url&gt;</code> 命令来添加 box</p>
		<p>假设 vagrant box 的存放路径是：~/Download/lucid64.box</p>
		<pre><code>vagrant box add lucid64-test ~/Download/lucid64.box</code></pre>

		<hr />

		<h3>7. 启动 Vagrant Box</h3>
		<p>在启动 Vagrant Box 之前，先修改的配置文件，让 Vagrant 知道启动哪个 box。</p>
		<p>通过第 6 步成功添加 box 后，在 vagrant_test_dir 目录下，会有一个 `Vagrantfile` 的文件。</p>
		<p>编辑该文件，找到 `config.vm.box = "base"`，把该值换成第 6 步添加 box 时的名字，这里是 "lucid64-test"</p>
<pre><code>Vagrant.configure("2") do |config|
  config.vm.box = "luccid64-test"
end</code></pre>

		<p>启动 Vagrant</p>
		<pre><code>vagrant up</code></pre>

		<p>通过 ssh 连接</p>
		<pre><code>vagrant ssh</code></pre>

		<p>进入 Virtual box 的系统后，我们就可以根据项目需要配置自己的开发环境了。</p>

		<p>在我写完以上内容后，突然发现了这货：<a href="https://github.com/wilmoore/php-version" target="_blank">PHP Version</a>，让我稍后再研究一下。</p>

		<p>2014-12-26</p>
	</section>
</div>

<!-- Footer Start -->
<div id="footer_wrap" class="outer">
	<footer class="inner">
		<p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
	</footer>
</div>
<!-- Footer End -->

<script type="text/javascript">
	var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
	document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>

<script type="text/javascript">
	try {
		var pageTracker = _gat._getTracker("UA-31471277-1");
		pageTracker._trackPageview();
	} catch(err) {}
</script>

</body>
</html>